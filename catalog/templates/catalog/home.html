{% extends 'catalog/base.html' %}

{% block title %}Главная{% endblock %}

{% block content %}
<header>
    <p class="h1 mt-5 text-center">Главная</p>
    <p class="h5 text-center text-secondary">Вы находитесь на сайте, предназначенном для продажи
        товаров.</p>
</header>
<div class="row mt-5 justify-content-center">
    {% for product_page in page_obj %}
    <div class="col-3 my-5">
        <div class="card text-center bg-info-subtle" style="height: 850px">
            <div class="card-header h5" style="height: 80px">
                <strong>{{ product_page.name }}</strong>
            </div>
            <div class="container text-center bg-info-subtle" style="height: 400px">
                {% if product_page.image %}
                <img src="{{ product_page.image.url }}"
                     class="card-img-top img-fluid position-relative top-50 start-50 translate-middle"
                     alt="{{product_page.name}}">
                {% else %}
                {% load static %}
                <img src="{% static 'default_img/product.webp' %}"
                     class="object-fit-sm-contain border rounded img-fluid position-relative top-50 start-50 translate-middle"
                     alt="{{product_page.name}}" height="335">
                {% endif %}
            </div>
            <div class="card-body" style="height: 250px">
                <p class="card-text  py-2"><strong>{{ product_page.description|truncatechars:100 }} </strong></p>
                <h5 class="card-title h1">ЦЕНА: {{ product_page.purchase_price }} РУБ.</h5>
            </div>
            <div class="card-footer">
                <a href="#" class="btn btn-light text-primary border-primary w-100 mt-4">Купить</a>
            </div>
        </div>
    </div>
    {% endfor %}
    <nav aria-label="Пример навигации по страницам">
        <ul class="pagination justify-content-center">
            {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Предыдущая</a>
            </li>
            {% else %}
            <li class="page-item disabled">
                <a class="page-link">Предыдущая</a>
            </li>
            {% endif %}
            {% for p in page_obj.paginator.page_range %}
            <li class="page-item"><a class="page-link" href="?page={{ p }}">{{ p }}</a></li>
            {% endfor %}
            {% if page_obj.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Следующая</a>
            </li>
            {% else %}
            <li class="page-item disabled">
                <a class="page-link">Следующая</a>
            </li>
            {% endif %}

        </ul>
    </nav>
</div>
{% endblock %}
